<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Real-Time User Activity Monitor</title>
  <style>
    :root{--green:#2e7d32;--green-dark:#1b5e20;--border:#dfe3e6}
    *{box-sizing:border-box}
    body{margin:0;font-family:Segoe UI,Arial,sans-serif;background:#ffffff;color:#222}
    header{padding:16px 20px;text-align:center;color:var(--green-dark)}
    .container{max-width:980px;margin:0 auto;padding:16px 20px;display:grid;grid-template-columns:1fr;gap:16px}
    .panel{background:#fff;border:1px solid var(--border);border-radius:12px;padding:16px;box-shadow:0 2px 10px rgba(0,0,0,0.06)}
    .panel h2{margin:0 0 12px;color:var(--green);font-size:18px}
    .controls{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}
    .btn{padding:10px 12px;border-radius:8px;border:1px solid var(--green);background:var(--green);color:#fff;cursor:pointer}
    .btn.secondary{background:transparent;color:var(--green)}
    .status{font-size:13px;color:var(--green-dark);min-height:18px}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media(max-width:800px){.grid{grid-template-columns:1fr}}
    .box{border:1px solid var(--border);border-radius:8px;padding:12px}
    .log{height:280px;overflow:auto;border:1px solid var(--border);border-radius:8px;padding:10px;background:#fff}
    .log-item{padding:6px 8px;border-bottom:1px solid #f1f3f4}
    .log-item strong{color:var(--green)}
    .warning{border:1px solid var(--green);border-radius:8px;padding:10px;color:#fff;background:var(--green);display:none}
    .counters{display:flex;gap:18px;flex-wrap:wrap}
    .counter{background:#fff;border:1px solid var(--border);border-radius:8px;padding:10px 12px}
    .test-area{display:flex;gap:10px;flex-wrap:wrap}
    .test-input{padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:#fff;color:#111;outline:none}
    .test-input:focus{border-color:var(--green);box-shadow:0 0 0 3px rgba(46,125,50,0.15)}
    .test-button{padding:10px 12px;border-radius:8px;border:1px solid var(--green);background:transparent;color:var(--green);cursor:pointer}
  </style>
  <script>
    window.APP_CONFIG = { clickThresholdCount: 20, clickThresholdMs: 10000 };
  </script>
</head>
<body>
  <header>
    <h1>Real-Time User Activity Monitor</h1>
    <div id="ariaLive" class="sr" aria-live="polite"></div>
  </header>
  <main class="container">
    <section class="panel">
      <h2>Controls</h2>
      <div class="controls">
        <button id="resetBtn" class="btn">Reset Log</button>
        <button id="exportBtn" class="btn secondary">Export Log</button>
        <div id="status" class="status"></div>
      </div>
    </section>
    <section class="panel">
      <h2>Activity</h2>
      <div class="grid">
        <div class="box">
          <div class="counters">
            <div class="counter">Clicks: <span id="countClicks">0</span></div>
            <div class="counter">Keys: <span id="countKeys">0</span></div>
            <div class="counter">Focus: <span id="countFocus">0</span></div>
          </div>
          <div id="warning" class="warning">Suspicious activity detected</div>
          <div id="log" class="log" aria-live="polite"></div>
        </div>
        <div class="box">
          <div class="test-area">
            <input id="demoInput" class="test-input" type="text" placeholder="Type here">
            <button class="test-button" id="demoBtn">Sample Button</button>
            <a href="#" class="test-button" id="demoLink">Sample Link</a>
          </div>
          <div style="margin-top:10px;font-size:13px;color:#607d8b">
            Interact with inputs, buttons, and the page. Events from capturing and bubbling phases are logged in real time.
          </div>
        </div>
      </div>
    </section>
  </main>
  <script src="script.js"></script>
</body>
</html>
